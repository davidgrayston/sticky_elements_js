var StickyElements=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o=n(1),i={createContainer:function(e){var t=document.createElement("div"),n=window.getComputedStyle(e,null);t.classList.add("sticky-element-container"),t.style.height=n.getPropertyValue("height"),t.style.width=n.getPropertyValue("width"),t.style.position="relative",e.parentNode.insertBefore(t,e),t.appendChild(e)},setHeight:function(e,t){e.style.height="";var n=window.getComputedStyle(e,null);e.parentNode.style.height=n.getPropertyValue("height"),t&&(e.style.height=t+"px")},setAllEnds:function(){this.config.elements.forEach(function(e){if("element"===e.type){e.value=document.querySelector(e[e.type]).getBoundingClientRect().y+window.scrollY,e.pvalue=e.parent.getBoundingClientRect().y+window.scrollY;var t=e.value-e.pvalue;e.parent.style.height=t+"px"}})},scrollEndHandler:function(e){this.setAllEnds()},reszieEndHandler:function(e){clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(function(){this.setAllEnds()}.bind(this),1e3)},scrollTimeoutHandler:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this;0===this.config.elements.length&&window.removeEventListener("scroll",scrollTimeoutHandler,!1),this.config.elements.forEach(function(e){var n=e.target,o=e.type,i=e.top;"timeout"===o&&(n.parentNode.getBoundingClientRect().y+window.scrollY-i<=window.scrollY?t.stickElement(e):n.classList.contains("is-stuck")&&t.unstickElement(e))})}),stickElement:function(e){var t=e.target,n=e.top,o=e.value,i=window.getComputedStyle(t.parentNode,null);t.style.width=i.getPropertyValue("width"),t.style.top=n+"px",t.style.position="fixed",t.style.zIndex="10000",t.classList.add("is-stuck"),e.expire||(e.expire=setTimeout(function(){this.unstickElement(e),this.removeStickyElement(e)}.bind(this),o))},unstickElement:function(e){var t=e.target,n=e.oTop,o=e.oPos,i=e.oZI;t.style.top=n,t.style.position=o,t.style.zIndex=i,t.classList.remove("is-stuck")},removeStickyElement:function(e){var t=this;this.config.elements.forEach(function(n){t.config.elements=t.config.elements.filter(function(t){return t!==e})})},checkMediaQueries:function(e){var t=this;e.forEach(function(e){e.media_query&&window.matchMedia(e.media_query).matches&&t.removeStickyElement(e)})},init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Object.assign({},{},t),this.checkMediaQueries(this.config.elements),this.config.elements.forEach(function(t){var n=t.sticky_selector,i=t.type,r=t.top;t.target=document.querySelector(n),t.parent=t.target.parentElement,t.value="element"===i?document.querySelector(t[i]).getBoundingClientRect().y+window.scrollY:t[i],t.pvalue=t.parent.getBoundingClientRect().y+window.scrollY;var s=t.target,c=t.parent,l=t.value,a=t.pvalue;switch(s.classList.add("sticky-element"),i){case"offset":case"element":e.createContainer(c);var u=l-a;c.style.height=u+"px",c.style.position="absolute",s.style.top=r+"px",s.style.position="sticky",document.body.style.overflow="visible",s.classList.add("sticky-events"),s.addEventListener(o.StickyEvent.STUCK,function(e){document.querySelectorAll(".sticky-events--sentinel").forEach(function(e){return e.style.position="absolute"}),e.target.offsetHeight>0&&e.target.classList.add("is-stuck")}),s.addEventListener(o.StickyEvent.UNSTUCK,function(e){e.target.classList.remove("is-stuck")});break;case"timeout":e.createContainer(s),t.oPos=s.style.position,t.oTop=s.style.top,t.oZI=s.style.zIndex,window.addEventListener("scroll",e.scrollTimeoutHandler.bind(e),!1);break;default:console.log("Invalid type specified.")}s.style.zIndex="10000",s.style.width="100%"}),(0,o.observeStickyEvents)(),window.addEventListener("scroll",this.scrollEndHandler.bind(this),!1),window.addEventListener("resize",this.reszieEndHandler.bind(this),!1),window.addEventListener("load",function(){window.removeEventListener("scroll",this.scrollEndHandler.bind(this),!1)}.bind(this))}},r=new CustomEvent("sticky-element:load");document.dispatchEvent(r),e.exports=i},function(e,t,n){"use strict";var o,i,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,c){"object"==s(t)&&void 0!==e?c(t):(i=[t],void 0===(r="function"==typeof(o=c)?o.apply(t,i):o)||(e.exports=r))}(0,function(e){var t={CHANGE:"sticky-change",STUCK:"sticky-stuck",UNSTUCK:"sticky-unstuck"},n={SENTINEL:"sticky-events--sentinel",SENTINEL_TOP:"sticky-events--sentinel-top",SENTINEL_BOTTOM:"sticky-events--sentinel-bottom"},o=".sticky-events";function i(e,n){n.dispatchEvent(new CustomEvent(t.CHANGE,{detail:{isSticky:e}})),n.dispatchEvent(new CustomEvent(e?t.STUCK:t.UNSTUCK))}function r(e,t){return Array.from(e.querySelectorAll(o)).map(function(e){var o=document.createElement("div"),i=e.parentElement;switch(o.classList.add(n.SENTINEL,t),t){case n.SENTINEL_TOP:i.insertBefore(o,e),Object.assign(o.style,s(e,o,t));break;case n.SENTINEL_BOTTOM:i.appendChild(o),Object.assign(o.style,s(e,o,t))}return o})}function s(e,t,o){var i=window.getComputedStyle(e),r=window.getComputedStyle(e.parentElement);switch(o){case n.SENTINEL_TOP:return{top:"calc("+i.getPropertyValue("top")+" * -1)",height:0};case n.SENTINEL_BOTTOM:var s=parseInt(r.paddingTop);return{bottom:i.top,height:e.getBoundingClientRect().height+s+"px"}}}e.StickyEvent=t,e.observeStickyEvents=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;window.self===window.top?window.requestAnimationFrame(function(){var t,s,c,l;t=e,s=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.boundingClientRect,n=e.rootBounds,r=e.target.parentElement,s=r.querySelector(o);r.style.position="relative",t.bottom>=n.top&&t.bottom<n.bottom?i(!1,s):t.bottom<n.top&&i(!0,s)})},Object.assign({threshold:[0]},!(t instanceof HTMLDocument)&&{root:t})),r(t,n.SENTINEL_TOP).forEach(function(e){return s.observe(e)}),c=e,l=new IntersectionObserver(function(e){e.forEach(function(e){var t,n,r,s,c=e.boundingClientRect,l=e.rootBounds,a=e.target.parentElement.querySelector(o);c.top<l.top&&c.bottom<l.bottom?i(!1,a):c.bottom>l.top&&(n=(t=a).previousElementSibling,r=t.getBoundingClientRect().top,s=n.getBoundingClientRect().top,Math.round(Math.abs(r-s))!==Math.abs(parseInt(window.getComputedStyle(n).getPropertyValue("top"))))&&i(!0,a)})},Object.assign({threshold:[1]},!(c instanceof HTMLDocument)&&{root:c})),r(c,n.SENTINEL_BOTTOM).forEach(function(e){return l.observe(e)})}):console.warn("StickyEvents: There are issues with using IntersectionObservers in an iframe, canceling initialization. Please see https://github.com/w3c/IntersectionObserver/issues/183")},Object.defineProperty(e,"__esModule",{value:!0})})}]);
//# sourceMappingURL=stickyElements.min.js.map